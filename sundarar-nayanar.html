<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Sundaramurthi Nayanar – Friend of God</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;0,700;1,300;1,400&family=Noto+Serif+Devanagari:wght@400;700&family=Cinzel:wght@400;700;900&family=EB+Garamond:ital,wght@0,400;0,500;1,400&display=swap');
*{margin:0;padding:0;box-sizing:border-box;}
:root{--gold:#D4A843;--saffron:#E8752A;--night:#050510;--cream:#F5E6C8;--ember:rgba(232,117,42,0.22);}
html{scroll-behavior:smooth;}
body{background:var(--night);color:var(--cream);font-family:'EB Garamond',serif;overflow-x:hidden;}
#preloader{position:fixed;inset:0;z-index:9999;background:var(--night);display:flex;flex-direction:column;align-items:center;justify-content:center;transition:opacity 1.2s ease,visibility 1.2s ease;}
#preloader.hidden{opacity:0;visibility:hidden;pointer-events:none;}
#preloader .om{font-family:'Noto Serif Devanagari',serif;font-size:5rem;color:var(--gold);animation:pulse-om 2s ease-in-out infinite;text-shadow:0 0 80px rgba(212,168,67,0.22);}
#preloader p{margin-top:1.5rem;font-family:'Cinzel',serif;font-size:0.8rem;letter-spacing:0.4em;color:rgba(212,168,67,0.22);}
@keyframes pulse-om{0%,100%{opacity:0.3;transform:scale(1);}50%{opacity:1;transform:scale(1.08);}}
#particle-canvas{position:fixed;inset:0;z-index:0;pointer-events:none;}
#story{position:relative;z-index:1;padding-bottom:5rem;}
#progress{position:fixed;top:0;left:0;height:2px;background:linear-gradient(90deg,var(--saffron),var(--gold));z-index:100;transition:width 0.1s linear;box-shadow:0 0 12px rgba(212,168,67,0.22);}
.scene{display:flex;flex-direction:column;align-items:center;padding:3rem 1.5rem;position:relative;opacity:0;transform:translateY(30px);transition:opacity 1.5s ease,transform 1.5s ease;overflow:hidden;}
.scene.visible{opacity:1;transform:translateY(0);}
.scene-bg{display:none;}
.scene-content{position:relative;max-width:720px;padding:0 1rem;margin:0 auto;}
.scene-overlay{display:none;}
.scene-visual{width:100%;max-width:800px;aspect-ratio:16/9;margin:0 auto 2rem;border-radius:12px;overflow:hidden;position:relative;box-shadow:0 4px 40px rgba(0,0,0,0.6),0 0 60px rgba(212,168,67,0.08),inset 0 0 0 1.5px rgba(212,168,67,0.2);background:#0a0820;animation:kenBurns 30s ease-in-out infinite alternate;}
.scene-visual svg{width:100%;height:100%;display:block;}
@keyframes kenBurns{0%{transform:scale(1);}100%{transform:scale(1.02);}
.scene-title{text-align:center;}
.scene-title .scene-bg{background:radial-gradient(ellipse at 50% 30%,rgba(212,168,67,0.42)0%,transparent 60%),radial-gradient(ellipse at 50% 80%,rgba(139,37,0,0.28)0%,transparent 50%),var(--night);}
.scene-title .subtitle{font-family:'Cinzel',serif;font-size:0.7rem;letter-spacing:0.6em;color:var(--saffron);text-transform:uppercase;margin-bottom:1.5rem;opacity:0;animation:fadeUp 1s 0.5s ease forwards;}
.scene-title h1{font-family:'Cinzel',serif;font-size:clamp(2.5rem,6.5vw,5rem);font-weight:900;color:var(--gold);text-shadow:0 0 80px rgba(212,168,67,0.22),0 2px 4px rgba(0,0,0,0.20);line-height:1.05;opacity:0;animation:fadeUp 1.2s 0.8s ease forwards;}
.scene-title .tagline{font-family:'EB Garamond',serif;font-size:clamp(1rem,2.5vw,1.35rem);font-style:italic;color:rgba(245,230,200,0.75);margin-top:1.5rem;max-width:540px;line-height:1.7;opacity:0;animation:fadeUp 1s 1.4s ease forwards;}
.scene-title .divider{width:100px;height:1px;background:linear-gradient(90deg,transparent,var(--gold),transparent);margin:2rem auto;opacity:0;animation:fadeUp 1s 1.1s ease forwards;}
.scene-title .scroll-hint{position:absolute;bottom:2.5rem;font-family:'Cinzel',serif;font-size:0.65rem;letter-spacing:0.3em;color:rgba(212,168,67,0.22);opacity:0;animation:fadeUp 1s 2s ease forwards,float 3s 3s ease-in-out infinite;}
.scroll-arrow{display:block;margin-top:0.5rem;font-size:1.2rem;}
@keyframes fadeUp{from{opacity:0;transform:translateY(25px);}to{opacity:1;transform:translateY(0);}}
@keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-8px);}}
.chapter-num{font-family:'Cinzel',serif;font-size:0.6rem;letter-spacing:0.5em;color:var(--saffron);text-transform:uppercase;margin-bottom:0.8rem;opacity:0.8;}
.chapter-title{font-family:'Cormorant Garamond',serif;font-size:clamp(1.8rem,4.5vw,2.8rem);font-weight:300;color:var(--gold);margin-bottom:2rem;line-height:1.2;text-shadow:0 0 40px rgba(212,168,67,0.40);}
.narrative-text{font-family:'EB Garamond',serif;font-size:clamp(1.08rem,2.2vw,1.25rem);line-height:2;color:rgba(245,230,200,0.88);}
.narrative-text .highlight{color:var(--gold);font-style:italic;}
.narrative-text .emphasis{color:var(--saffron);font-weight:500;}
.quote-block{border-left:2px solid var(--gold);padding:1.2rem 1.8rem;margin:2rem 0;background:rgba(212,168,67,0.10);font-style:italic;color:var(--gold);font-size:clamp(1.1rem,2.2vw,1.2rem);line-height:1.8;}
.scene.narrating .scene-content{border-left:3px solid rgba(212,168,67,0.22);padding-left:2rem;transition:all 0.5s ease;}
.scene-divider{width:100%;height:1px;background:linear-gradient(90deg,transparent,rgba(212,168,67,0.40),transparent);}
.scene-final{text-align:center;min-height:60vh;}
.final-text{font-family:'Cinzel',serif;font-size:clamp(1.2rem,3vw,1.8rem);color:var(--gold);letter-spacing:0.12em;line-height:1.7;text-shadow:0 0 50px rgba(212,168,67,0.22);}
.final-sanskrit{font-family:'Noto Serif Devanagari',serif;font-size:1.8rem;color:rgba(232,117,42,0.22);margin-top:2.5rem;}
.light-rays{display:none;position:absolute;top:-50%;left:50%;transform:translateX(-50%);width:200%;height:200%;opacity:0.1;pointer-events:none;background:conic-gradient(from 0deg at 50% 0%,transparent 0deg,rgba(212,168,67,0.22)10deg,transparent 20deg,transparent 30deg,rgba(212,168,67,0.40)40deg,transparent 50deg,transparent 70deg,rgba(212,168,67,0.40)80deg,transparent 90deg,transparent 110deg,rgba(212,168,67,0.22)120deg,transparent 130deg,transparent 150deg,rgba(212,168,67,0.35)160deg,transparent 170deg,transparent 180deg);animation:rayRotate 60s linear infinite;}
@keyframes rayRotate{from{transform:translateX(-50%) rotate(0deg);}to{transform:translateX(-50%) rotate(360deg);}}
.divine-glow{position:absolute;width:100%;height:100%;pointer-events:none;background:radial-gradient(ellipse at 50% 30%,rgba(212,168,67,0.28)0%,transparent 50%);}
.fog{display:none;}
#controls-bar{position:fixed;bottom:0;left:0;right:0;z-index:200;background:linear-gradient(0deg,rgba(5,5,16,0.20)0%,rgba(5,5,16,0.20)60%,transparent 100%);padding:0.8rem 1.2rem 1rem;display:flex;align-items:center;justify-content:center;gap:0.7rem;flex-wrap:wrap;}
.ctrl-btn{background:rgba(212,168,67,0.21);border:1px solid rgba(212,168,67,0.40);color:var(--gold);border-radius:999px;padding:0.45rem 0.9rem;font-family:'Cinzel',serif;font-size:0.58rem;letter-spacing:0.1em;cursor:pointer;transition:all 0.3s ease;text-transform:uppercase;white-space:nowrap;display:flex;align-items:center;gap:0.35rem;backdrop-filter:blur(12px);}
.ctrl-btn:hover{background:rgba(212,168,67,0.40);border-color:var(--gold);}
.ctrl-btn.active{background:rgba(212,168,67,0.40);border-color:var(--gold);box-shadow:0 0 12px rgba(212,168,67,0.42);}
.ctrl-btn .icon{font-size:0.85rem;line-height:1;}
.ctrl-btn.play-btn{padding:0.5rem 1.2rem;font-size:0.62rem;}
#speed-control,#vol-control{display:flex;align-items:center;gap:0.3rem;}
#speed-control label,#vol-control label{font-family:'Cinzel',serif;font-size:0.5rem;letter-spacing:0.08em;color:rgba(212,168,67,0.22);text-transform:uppercase;}
#speed-slider,#vol-slider{width:55px;height:3px;-webkit-appearance:none;appearance:none;background:rgba(212,168,67,0.40);border-radius:2px;outline:none;cursor:pointer;}
#speed-slider::-webkit-slider-thumb,#vol-slider::-webkit-slider-thumb{-webkit-appearance:none;width:11px;height:11px;border-radius:50%;background:var(--gold);cursor:pointer;}
#speed-val,#vol-val{font-family:'Cinzel',serif;font-size:0.5rem;color:var(--gold);min-width:2em;text-align:center;}
#narration-status{position:fixed;top:10px;left:50%;transform:translateX(-50%);font-family:'Cinzel',serif;font-size:0.5rem;letter-spacing:0.15em;color:rgba(212,168,67,0.22);text-transform:uppercase;z-index:101;opacity:0;transition:opacity 0.5s ease;pointer-events:none;background:rgba(5,5,16,0.20);padding:0.3rem 1rem;border-radius:999px;backdrop-filter:blur(8px);}
#narration-status.show{opacity:1;}
@media(max-width:600px){.scene-content{padding:2rem 1.5rem;}#controls-bar{padding:0.6rem 0.8rem 0.8rem;gap:0.4rem;}.ctrl-btn{padding:0.35rem 0.6rem;font-size:0.48rem;}}
</style>
</head>
<body>
<div id="preloader"><div class="om">ॐ</div><p>Loading Story</p></div>
<div id="progress" style="width:0%"></div>
<div id="narration-status"></div>
<canvas id="particle-canvas"></canvas>
<div id="story">

<div class="scene scene-title visible" data-scene="title">
  <div class="scene-bg"></div><div class="light-rays"></div><div class="divine-glow"></div><div class="fog"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs>
  <radialGradient id="tg" cx="50%" cy="25%" r="50%"><stop offset="0%" stop-color="rgba(212,168,67,0.22)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
  <radialGradient id="halo1" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="rgba(212,168,67,0.22)"/><stop offset="70%" stop-color="rgba(212,168,67,0.30)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
  <filter id="glow1"><feGaussianBlur stdDeviation="3" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
</defs>
<rect width="100%" height="100%" fill="url(#tg)"/>
<!-- Trishul (trident) center -->
<line x1="500" y1="250" x2="500" y2="550" stroke="rgba(212,168,67,0.42)" stroke-width="3"/>
<path d="M 500 250 L 500 220 M 470 260 Q 470 230 500 220 Q 530 230 530 260 M 460 265 Q 460 225 500 210 Q 540 225 540 265" fill="none" stroke="rgba(212,168,67,0.40)" stroke-width="2" stroke-linecap="round"/>
<!-- Three prongs -->
<line x1="500" y1="220" x2="500" y2="180" stroke="rgba(212,168,67,0.40)" stroke-width="2.5"/>
<line x1="460" y1="265" x2="450" y2="225" stroke="rgba(212,168,67,0.42)" stroke-width="2"/>
<line x1="540" y1="265" x2="550" y2="225" stroke="rgba(212,168,67,0.42)" stroke-width="2"/>
<!-- Trident glow -->
<circle cx="500" cy="220" r="40" fill="rgba(212,168,67,0.14)"><animate attributeName="r" values="40;60;40" dur="4s" repeatCount="indefinite"/></circle>
<!-- Damaru (drum) -->
<path d="M 510 390 L 520 380 L 520 400 Z" fill="rgba(212,168,67,0.28)"/>
<path d="M 510 410 L 520 400 L 520 420 Z" fill="rgba(212,168,67,0.28)"/>
<!-- Sundarar figure (left) with golden aura -->
<circle cx="380" cy="520" r="50" fill="url(#halo1)"/>
<circle cx="380" cy="500" r="12" fill="rgba(212,168,67,0.40)"/>
<ellipse cx="380" cy="545" rx="16" ry="38" fill="rgba(212,168,67,0.49)"/>
<!-- Shiva figure (right) with brighter aura -->
<circle cx="620" cy="510" r="60" fill="url(#halo1)"/>
<circle cx="620" cy="490" r="14" fill="rgba(255,240,200,0.35)"/>
<ellipse cx="620" cy="535" rx="18" ry="40" fill="rgba(255,240,200,0.35)"/>
<!-- Third eye dot -->
<circle cx="620" cy="484" r="2" fill="rgba(232,117,42,0.55)"><animate values="0.62;0.90;0.62" dur="3s" repeatCount="indefinite"/></circle>
<!-- Crescent moon on Shiva -->
<path d="M 610 472 Q 618 465 626 472" fill="none" stroke="rgba(255,248,220,0.42)" stroke-width="1.5"/>
<!-- Bond arc between them -->
<path d="M 400 510 Q 500 440 600 510" fill="none" stroke="rgba(212,168,67,0.28)" stroke-width="1" stroke-dasharray="4 6"><animate attributeName="stroke-opacity" values="0.08;0.18;0.08" dur="5s" repeatCount="indefinite"/></path>
<!-- Om symbol faint background -->
<text x="500" y="700" text-anchor="middle" font-family="serif" font-size="120" fill="rgba(212,168,67,0.10)">ॐ</text>
<!-- Expanding blessing rings -->
<circle cx="500" cy="400" r="100" fill="none" stroke="rgba(212,168,67,0.14)" stroke-width="0.5"><animate attributeName="r" values="100;200" dur="6s" repeatCount="indefinite"/><animate values="0.10;0.00" dur="6s" repeatCount="indefinite"/></circle>
<circle cx="500" cy="400" r="60" fill="none" stroke="rgba(212,168,67,0.18)" stroke-width="0.5"><animate attributeName="r" values="60;160" dur="5s" repeatCount="indefinite"/><animate values="0.12;0.00" dur="5s" repeatCount="indefinite"/></circle>
</svg></div>
  <div class="scene-content" style="z-index:3">
    <div class="subtitle">The 63 Nayanars · Story I</div>
    <h1>Sundaramurthi<br>Nayanar</h1>
    <div class="divider"></div>
    <div class="tagline">The extraordinary tale of the man whom God Himself called His friend — and the love that transcended heaven and earth</div>
  </div>
  <div class="scroll-hint">Press Play or scroll<span class="scroll-arrow">↓</span></div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="kailasa">
  <div class="scene-bg" style="background:linear-gradient(180deg,#0a0820 0%,#0f0e28 30%,#0a0a1e 100%);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs>
  <linearGradient id="mtn" x1="0" y1="1" x2="0" y2="0"><stop offset="0%" stop-color="#0a0a1e"/><stop offset="40%" stop-color="#151530"/><stop offset="100%" stop-color="#1a1a40"/></linearGradient>
  <radialGradient id="shivaAura" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="rgba(212,168,67,0.22)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
</defs>
<!-- Night sky -->
<rect width="100%" height="100%" fill="#060818"/>
<!-- Stars field -->
<circle cx="80" cy="60" r="1.2" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.38;0.90" dur="3s" repeatCount="indefinite"/></circle>
<circle cx="200" cy="40" r="0.8" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.50;0.90" dur="4s" repeatCount="indefinite"/></circle>
<circle cx="350" cy="80" r="1" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.90;0.90" dur="2.5s" repeatCount="indefinite"/></circle>
<circle cx="550" cy="50" r="1.3" fill="#fff8dc" opacity="0.8"><animate values="0.75;0.90;0.75" dur="5s" repeatCount="indefinite"/></circle>
<circle cx="750" cy="70" r="0.9" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.25;0.90" dur="3.5s" repeatCount="indefinite"/></circle>
<circle cx="900" cy="45" r="1.1" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.90;0.90" dur="4.5s" repeatCount="indefinite"/></circle>
<!-- Mount Kailasa — majestic peak -->
<polygon points="500,120 750,600 250,600" fill="url(#mtn)" opacity="0.9"/>
<polygon points="500,120 600,350 400,350" fill="rgba(180,180,220,0.14)"/>
<!-- Snow caps -->
<polygon points="500,120 540,200 460,200" fill="rgba(255,255,255,0.28)"/>
<polygon points="480,180 510,160 520,200" fill="rgba(255,255,255,0.18)"/>
<!-- Shiva meditating at summit — silhouette -->
<circle cx="500" cy="160" r="60" fill="url(#shivaAura)"/>
<circle cx="500" cy="148" r="7" fill="rgba(212,168,67,0.40)"/>
<ellipse cx="500" cy="172" rx="10" ry="18" fill="rgba(212,168,67,0.42)"/>
<!-- Legs crossed -->
<ellipse cx="500" cy="188" rx="14" ry="5" fill="rgba(212,168,67,0.28)"/>
<!-- Third eye -->
<circle cx="500" cy="144" r="1.5" fill="rgba(232,117,42,0.55)"><animate values="0.75;0.90;0.75" dur="3s" repeatCount="indefinite"/></circle>
<!-- Crescent moon -->
<path d="M 493 136 Q 500 130 507 136" fill="none" stroke="rgba(255,248,220,0.35)" stroke-width="1"/>
<!-- Snakes around neck -->
<path d="M 492 155 Q 485 158 490 165 Q 495 160 492 155" fill="none" stroke="rgba(100,150,100,0.35)" stroke-width="1"/>
<!-- Nandi (bull) silhouette at base -->
<ellipse cx="380" cy="560" rx="30" ry="18" fill="rgba(100,80,60,0.42)"/>
<ellipse cx="370" cy="548" rx="8" ry="10" fill="rgba(100,80,60,0.35)"/>
<path d="M 365 542 L 360 535 M 375 542 L 380 535" fill="none" stroke="rgba(100,80,60,0.35)" stroke-width="1.5"/>
<!-- Garden flowers -->
<circle cx="320" cy="580" r="5" fill="rgba(220,100,150,0.35)"/><circle cx="340" cy="590" r="4" fill="rgba(180,100,220,0.28)"/>
<circle cx="660" cy="575" r="5" fill="rgba(220,100,150,0.28)"/><circle cx="680" cy="585" r="4" fill="rgba(180,100,220,0.35)"/>
<circle cx="350" cy="600" r="3" fill="rgba(255,200,100,0.21)"/><circle cx="650" cy="595" r="3" fill="rgba(255,200,100,0.25)"/>
<!-- Two maiden figures in garden (Aninditi & Kamalini) -->
<circle cx="620" cy="555" r="5" fill="rgba(200,150,200,0.35)"/><ellipse cx="620" cy="575" rx="7" ry="16" fill="rgba(200,150,200,0.25)"/>
<circle cx="650" cy="560" r="5" fill="rgba(200,150,200,0.35)"/><ellipse cx="650" cy="580" rx="7" ry="16" fill="rgba(200,150,200,0.25)"/>
<!-- Divine light from summit -->
<circle cx="500" cy="140" r="25" fill="rgba(255,240,200,0.14)"><animate attributeName="r" values="25;45;25" dur="5s" repeatCount="indefinite"/></circle>
<!-- Milky ocean hint at bottom -->
<ellipse cx="500" cy="700" rx="400" ry="60" fill="rgba(200,220,255,0.07)"><animate attributeName="rx" values="400;420;400" dur="8s" repeatCount="indefinite"/></ellipse>
</svg></div>
  <div class="fog"></div>
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter I</div>
    <div class="chapter-title">Before This Life — In Kailasa</div>
    <div class="narrative-text">Long before he was born on this earth, our story begins in <span class="highlight">Kailasa</span>, the celestial abode of Lord Siva.<br><br>There lived a devoted attendant named <span class="emphasis">Alala Sundarar</span>. He served the Lord faithfully, bringing fresh flowers each day from the divine gardens. He had earned this honor because during the churning of the Milky Ocean, when deadly poison threatened all existence, it was Sundarar who collected the poison and gave it to Lord Siva — who drank it to save the world.<br><br>But one day, while picking flowers, Sundarar cast a lustful glance upon <span class="highlight">Aninditi and Kamalini</span>, the attendants of Goddess Parvathi. They too fell in love. Lord Siva saw everything and declared: <span class="emphasis">“Since you have fallen in love, all three of you shall take human birth on earth.”</span></div>
  <div class="quote-block">“Oh Lord! Dispel my ignorance and take me back to Your lotus feet.” — Sundarar wept, and the Lord granted this wish.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="birth">
  <div class="scene-bg" style="background:radial-gradient(ellipse at 50% 60%,rgba(184,134,11,0.21)0%,transparent 50%),var(--night);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs>
  <radialGradient id="babyGlow" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="rgba(255,240,200,0.25)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
</defs>
<!-- Dawn sky -->
<rect width="100%" height="100%" fill="#080815"/>
<rect x="0" y="400" width="1000" height="400" fill="rgba(20,15,10,0.20)"/>
<!-- Sunrise glow on horizon -->
<ellipse cx="500" cy="420" rx="500" ry="80" fill="rgba(232,117,42,0.55)"/>
<ellipse cx="500" cy="430" rx="300" ry="40" fill="rgba(255,200,100,0.10)"/>
<!-- Temple village silhouette -->
<polygon points="180,400 200,340 220,400" fill="rgba(50,35,20,0.20)"/>
<rect x="175" y="400" width="50" height="30" fill="rgba(40,30,20,0.20)"/>
<polygon points="380,400 395,360 410,400" fill="rgba(50,35,20,0.20)"/>
<rect x="370" y="400" width="50" height="25" fill="rgba(40,30,20,0.20)"/>
<!-- Palace on right -->
<rect x="650" y="350" width="120" height="80" fill="rgba(60,45,30,0.70)"/>
<polygon points="650,350 710,300 770,350" fill="rgba(70,50,30,0.70)"/>
<rect x="690" y="380" width="20" height="50" rx="10" fill="rgba(212,168,67,0.18)"/>
<!-- Flags on palace -->
<line x1="670" y1="350" x2="670" y2="325" stroke="rgba(232,117,42,0.35)" stroke-width="1"/>
<line x1="750" y1="350" x2="750" y2="325" stroke="rgba(232,117,42,0.35)" stroke-width="1"/>
<!-- Baby in center with divine radiance -->
<circle cx="500" cy="380" r="80" fill="url(#babyGlow)"><animate attributeName="r" values="80;100;80" dur="5s" repeatCount="indefinite"/></circle>
<circle cx="500" cy="380" r="40" fill="rgba(255,240,200,0.21)"><animate attributeName="r" values="40;55;40" dur="3s" repeatCount="indefinite"/></circle>
<!-- Swaddled baby shape -->
<ellipse cx="500" cy="385" rx="12" ry="8" fill="rgba(255,240,200,0.35)"/>
<circle cx="500" cy="375" r="5" fill="rgba(255,240,200,0.42)"/>
<!-- Parents on either side -->
<circle cx="460" cy="365" r="6" fill="rgba(212,168,67,0.28)"/><ellipse cx="460" cy="385" rx="8" ry="18" fill="rgba(212,168,67,0.21)"/>
<circle cx="540" cy="365" r="6" fill="rgba(200,150,100,0.28)"/><ellipse cx="540" cy="385" rx="8" ry="18" fill="rgba(200,150,100,0.21)"/>
<!-- Blessing rays from above -->
<line x1="500" y1="200" x2="500" y2="340" stroke="rgba(212,168,67,0.14)" stroke-width="20"><animate values="0.10;0.20;0.10" dur="4s" repeatCount="indefinite"/></line>
<!-- Oil lamps -->
<circle cx="350" cy="430" r="3" fill="rgba(212,168,67,0.22)"><animate values="0.75;0.90;0.75" dur="2s" repeatCount="indefinite"/></circle>
<circle cx="650" cy="430" r="3" fill="rgba(212,168,67,0.22)"><animate values="0.75;0.90;0.75" dur="2.5s" repeatCount="indefinite"/></circle>
<!-- Birds (dawn) -->
<path d="M 200 200 Q 210 190 220 200" fill="none" stroke="rgba(200,200,200,0.21)" stroke-width="1"/>
<path d="M 230 210 Q 240 200 250 210" fill="none" stroke="rgba(200,200,200,0.18)" stroke-width="1"/>
</svg></div>
  
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter II</div>
    <div class="chapter-title">The Divine Child of Navalur</div>
    <div class="narrative-text">In the sacred town of <span class="highlight">Thiru Navalur</span>, where the air hummed with devotion, there lived a pious Brahmin named <span class="emphasis">Sadaiyanar</span> and his wife <span class="emphasis">Isaignaniar</span>. Into their home a divine child was born — <span class="highlight">Nambi Arurar</span>.<br><br>The baby was so radiant that when King <span class="emphasis">Narasinga Munaiyar</span> saw him, he was captivated and begged to raise the boy under royal care. Sadaiyanar, free from worldly attachment, agreed. Little Arurar grew up in the palace — destined for a life no one could have imagined.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="wedding">
  <div class="scene-bg" style="background:linear-gradient(180deg,#0a0515 0%,#150a0a 60%,#100505 100%);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs>
  <radialGradient id="fireGlow" cx="50%" cy="60%" r="40%"><stop offset="0%" stop-color="rgba(255,150,50,0.30)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
</defs>
<rect width="100%" height="100%" fill="#0a0510"/>
<!-- Sacred fire (Agni) — central -->
<ellipse cx="500" cy="480" rx="30" ry="10" fill="rgba(139,37,0,0.53)"/>
<!-- Flames -->
<ellipse cx="500" cy="450" rx="15" ry="35" fill="rgba(255,150,50,0.30)"><animate attributeName="ry" values="35;45;35" dur="1.5s" repeatCount="indefinite"/></ellipse>
<ellipse cx="495" cy="440" rx="8" ry="28" fill="rgba(255,200,50,0.35)"><animate attributeName="ry" values="28;38;28" dur="1.2s" repeatCount="indefinite"/></ellipse>
<ellipse cx="505" cy="445" rx="6" ry="22" fill="rgba(255,240,100,0.25)"><animate attributeName="ry" values="22;30;22" dur="1.8s" repeatCount="indefinite"/></ellipse>
<!-- Fire sparks -->
<circle cx="490" cy="410" r="1.5" fill="rgba(255,200,50,0.35)"><animate attributeName="cy" values="410;380;410" dur="2s" repeatCount="indefinite"/><animate values="0.50;0.00;0.50" dur="2s" repeatCount="indefinite"/></circle>
<circle cx="510" cy="415" r="1" fill="rgba(255,200,50,0.35)"><animate attributeName="cy" values="415;390;415" dur="2.5s" repeatCount="indefinite"/><animate values="0.38;0.00;0.38" dur="2.5s" repeatCount="indefinite"/></circle>
<circle cx="500" cy="405" r="1.2" fill="rgba(255,180,50,0.40)"><animate attributeName="cy" values="405;370;405" dur="1.8s" repeatCount="indefinite"/><animate values="0.45;0.00;0.45" dur="1.8s" repeatCount="indefinite"/></circle>
<!-- Fire glow -->
<circle cx="500" cy="450" r="80" fill="url(#fireGlow)"><animate attributeName="r" values="80;100;80" dur="3s" repeatCount="indefinite"/></circle>
<!-- Couple (bride & groom) left side -->
<circle cx="400" cy="460" r="8" fill="rgba(212,168,67,0.42)"/><ellipse cx="400" cy="490" rx="12" ry="28" fill="rgba(212,168,67,0.28)"/>
<circle cx="440" cy="465" r="8" fill="rgba(200,80,80,0.35)"/><ellipse cx="440" cy="495" rx="12" ry="28" fill="rgba(200,80,80,0.25)"/>
<!-- Mysterious old Brahmin — right side, dramatic -->
<circle cx="720" cy="400" r="60" fill="rgba(255,240,200,0.10)"><animate attributeName="r" values="60;80;60" dur="4s" repeatCount="indefinite"/></circle>
<circle cx="720" cy="420" r="12" fill="rgba(255,240,200,0.42)"/>
<ellipse cx="720" cy="460" rx="16" ry="35" fill="rgba(255,240,200,0.28)"/>
<!-- Matted locks -->
<path d="M 712 412 Q 705 395 708 380 M 728 412 Q 735 395 732 380" fill="none" stroke="rgba(150,130,100,0.28)" stroke-width="2"/>
<!-- Sacred ash lines on face -->
<line x1="714" y1="414" x2="726" y2="414" stroke="rgba(255,255,255,0.21)" stroke-width="1"/>
<line x1="714" y1="418" x2="726" y2="418" stroke="rgba(255,255,255,0.18)" stroke-width="1"/>
<!-- Document scroll held up -->
<rect x="735" y="430" width="25" height="12" rx="2" fill="rgba(212,168,67,0.40)"><animate values="0.38;0.62;0.38" dur="2s" repeatCount="indefinite"/></rect>
<!-- Mandap pillars -->
<rect x="340" y="380" width="6" height="150" fill="rgba(80,60,40,0.35)"/>
<rect x="654" y="380" width="6" height="150" fill="rgba(80,60,40,0.35)"/>
<!-- Mandap top -->
<rect x="335" y="375" width="335" height="8" fill="rgba(80,60,40,0.28)"/>
<!-- Mango leaf torans -->
<path d="M 340 380 Q 420 365 500 380 Q 580 365 660 380" fill="none" stroke="rgba(50,100,30,0.28)" stroke-width="3"/>
<!-- Spectators -->
<g opacity="0.1"><circle cx="300" cy="510" r="5" fill="#D4A843"/><circle cx="320" cy="515" r="5" fill="#D4A843"/><circle cx="340" cy="520" r="5" fill="#D4A843"/><circle cx="660" cy="510" r="5" fill="#D4A843"/><circle cx="680" cy="515" r="5" fill="#D4A843"/></g>
<!-- Red tension atmosphere -->
<rect width="100%" height="100%" fill="rgba(139,37,0,0.07)"/>
</svg></div>
  
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter III</div>
    <div class="chapter-title">The Wedding That Never Was</div>
    <div class="narrative-text">When Arurar came of age, his marriage was arranged. The sacred fire was lit. The bride was ready. But just as the ceremony was about to begin — an <span class="emphasis">old Brahmin</span> appeared with sacred ashes, Rudraksha beads, and matted locks. He held up a document:<br><br><span class="emphasis">“This man, Arurar, is my bond-slave! I have a document executed by his grandfather. He cannot marry!”</span><br><br>The wedding halted. Arurar was furious. “Who are you?” The Brahmin replied: <span class="highlight">“I belong to Tiruvennai Nellur.”</span> Arurar called him a liar. “Then let us go there and settle this!”</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="revelation">
  <div class="scene-bg" style="background:radial-gradient(ellipse at 50% 40%,rgba(212,168,67,0.35)0%,transparent 50%),var(--night);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs>
  <radialGradient id="vanish" cx="50%" cy="40%" r="35%"><stop offset="0%" stop-color="rgba(255,240,200,0.25)"/><stop offset="50%" stop-color="rgba(212,168,67,0.40)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
  <linearGradient id="ling" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(80,70,60,0.28)"/><stop offset="100%" stop-color="rgba(40,35,30,0.20)"/></linearGradient>
</defs>
<rect width="100%" height="100%" fill="#080510"/>
<!-- Temple interior walls -->
<rect x="200" y="150" width="600" height="500" fill="rgba(30,20,15,0.70)"/>
<rect x="220" y="160" width="560" height="480" fill="rgba(20,15,10,0.53)"/>
<!-- Pillars -->
<rect x="250" y="180" width="15" height="430" fill="rgba(60,45,30,0.42)"/>
<rect x="735" y="180" width="15" height="430" fill="rgba(60,45,30,0.42)"/>
<rect x="400" y="180" width="10" height="430" fill="rgba(50,38,25,0.28)"/>
<rect x="590" y="180" width="10" height="430" fill="rgba(50,38,25,0.28)"/>
<!-- Vanishing divine light — center burst -->
<circle cx="500" cy="350" r="120" fill="url(#vanish)"><animate attributeName="r" values="120;180;120" dur="4s" repeatCount="indefinite"/><animate values="0.90;0.75;0.90" dur="4s" repeatCount="indefinite"/></circle>
<!-- Light rays from center -->
<line x1="500" y1="350" x2="350" y2="200" stroke="rgba(212,168,67,0.21)" stroke-width="15"><animate values="0.15;0.30;0.15" dur="3s" repeatCount="indefinite"/></line>
<line x1="500" y1="350" x2="650" y2="200" stroke="rgba(212,168,67,0.21)" stroke-width="15"><animate values="0.15;0.30;0.15" dur="3.5s" repeatCount="indefinite"/></line>
<line x1="500" y1="350" x2="500" y2="150" stroke="rgba(212,168,67,0.28)" stroke-width="20"><animate values="0.20;0.38;0.20" dur="2.5s" repeatCount="indefinite"/></line>
<!-- Shiva Lingam appearing -->
<ellipse cx="500" cy="480" rx="35" ry="12" fill="rgba(80,70,60,0.70)"/>
<ellipse cx="500" cy="440" rx="18" ry="42" fill="url(#ling)"/>
<!-- Lingam glow -->
<circle cx="500" cy="440" r="30" fill="rgba(212,168,67,0.14)"><animate attributeName="r" values="30;50;30" dur="4s" repeatCount="indefinite"/></circle>
<!-- Awestruck Sundarar -->
<circle cx="500" cy="560" r="10" fill="rgba(212,168,67,0.35)"/>
<ellipse cx="500" cy="590" rx="14" ry="30" fill="rgba(212,168,67,0.25)"/>
<!-- Arms raised in wonder -->
<line x1="488" y1="575" x2="470" y2="545" stroke="rgba(212,168,67,0.21)" stroke-width="3"/>
<line x1="512" y1="575" x2="530" y2="545" stroke="rgba(212,168,67,0.21)" stroke-width="3"/>
<!-- Oil lamps along walls -->
<circle cx="270" cy="500" r="3" fill="rgba(212,168,67,0.22)"><animate values="0.62;0.90;0.62" dur="2s" repeatCount="indefinite"/></circle>
<circle cx="730" cy="500" r="3" fill="rgba(212,168,67,0.22)"><animate values="0.62;0.90;0.62" dur="2.3s" repeatCount="indefinite"/></circle>
<circle cx="270" cy="350" r="3" fill="rgba(212,168,67,0.40)"><animate values="0.50;0.90;0.50" dur="1.8s" repeatCount="indefinite"/></circle>
<circle cx="730" cy="350" r="3" fill="rgba(212,168,67,0.40)"><animate values="0.50;0.90;0.50" dur="2.1s" repeatCount="indefinite"/></circle>
</svg></div>
  <div class="light-rays" style="opacity:0.12"></div><div class="divine-glow"></div>
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter IV</div>
    <div class="chapter-title">The Lord Reveals Himself</div>
    <div class="narrative-text">At Tiruvennai Nellur, the assembly examined the document:</div>
  <div class="quote-block">“I, Aruran, execute this bond of slavery with heart and soul. I and my progeny are bond-slaves to Pithan of Tiruvennai Nellur.”</div>
  <div class="narrative-text"><span class="highlight">Pithan</span> — meaning “madman” — was Lord Siva Himself. The claim was verified. Then the Brahmin led everyone into the temple — and <span class="emphasis">vanished</span>.<br><br>Arurar understood. The old man was the Lord Himself! The Lord appeared and said: <span class="emphasis">“You called Me Pithan. So begin with this word and compose a poem.”</span> Thus was born the immortal <span class="highlight">Pitha Pirai Soodi</span> — the first Thevaram.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="pilgrim">
  <div class="scene-bg" style="background:linear-gradient(180deg,#060818 0%,#0a1220 40%,#0f1a15 100%);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<rect width="100%" height="100%" fill="#060818"/>
<!-- Moon -->
<circle cx="800" cy="100" r="30" fill="rgba(255,248,220,0.35)"/>
<circle cx="800" cy="100" r="45" fill="rgba(255,248,220,0.07)"><animate attributeName="r" values="45;60;45" dur="8s" repeatCount="indefinite"/></circle>
<!-- Stars -->
<circle cx="100" cy="80" r="1" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.38;0.90" dur="3s" repeatCount="indefinite"/></circle>
<circle cx="300" cy="50" r="1.2" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.90;0.90" dur="4s" repeatCount="indefinite"/></circle>
<circle cx="600" cy="70" r="0.8" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.50;0.90" dur="2.5s" repeatCount="indefinite"/></circle>
<!-- Winding path -->
<path d="M 0 650 Q 150 600 300 630 Q 450 660 600 610 Q 750 560 900 580 L 1000 570" fill="none" stroke="rgba(212,168,67,0.18)" stroke-width="25"/>
<!-- Temple gopurams along the path -->
<polygon points="200,480 220,400 240,480" fill="rgba(60,45,30,0.70)"/><rect x="195" y="480" width="50" height="25" fill="rgba(50,38,25,0.70)"/>
<circle cx="220" cy="505" r="2" fill="rgba(212,168,67,0.40)"><animate values="0.50;0.90;0.50" dur="2s" repeatCount="indefinite"/></circle>
<polygon points="500,450 525,360 550,450" fill="rgba(60,45,30,0.53)"/><rect x="495" y="450" width="60" height="20" fill="rgba(50,38,25,0.53)"/>
<polygon points="800,440 825,350 850,440" fill="rgba(60,45,30,0.63)"/><rect x="795" y="440" width="60" height="22" fill="rgba(50,38,25,0.63)"/>
<!-- Walking Sundarar with golden aura -->
<circle cx="400" cy="590" r="40" fill="rgba(212,168,67,0.14)"/>
<circle cx="400" cy="580" r="8" fill="rgba(212,168,67,0.40)"><animate attributeName="cx" values="400;410;400" dur="6s" repeatCount="indefinite"/></circle>
<ellipse cx="400" cy="610" rx="10" ry="25" fill="rgba(212,168,67,0.35)"><animate attributeName="cx" values="400;410;400" dur="6s" repeatCount="indefinite"/></ellipse>
<!-- Lord in disguise (old man) following behind -->
<circle cx="320" cy="615" r="6" fill="rgba(255,240,200,0.28)"/><ellipse cx="320" cy="638" rx="8" ry="18" fill="rgba(255,240,200,0.18)"/>
<circle cx="320" cy="615" r="20" fill="rgba(255,240,200,0.07)"><animate attributeName="r" values="20;30;20" dur="4s" repeatCount="indefinite"/></circle>
<!-- Trees -->
<rect x="150" y="520" width="4" height="40" fill="rgba(40,60,20,0.28)"/><ellipse cx="152" cy="510" rx="15" ry="20" fill="rgba(30,50,15,0.21)"/>
<rect x="680" y="490" width="4" height="45" fill="rgba(40,60,20,0.25)"/><ellipse cx="682" cy="480" rx="18" ry="22" fill="rgba(30,50,15,0.18)"/>
<!-- Musical notes floating (he's singing) -->
<text x="430" y="560" font-size="14" fill="rgba(212,168,67,0.28)" transform="rotate(-15,430,560)">♪</text>
<text x="450" y="545" font-size="10" fill="rgba(212,168,67,0.21)" transform="rotate(10,450,545)">♫</text>
</svg></div>
  <div class="fog"></div>
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter V</div>
    <div class="chapter-title">The Singing Pilgrim</div>
    <div class="narrative-text">Sundarar became a wandering singer. The Lord called him <span class="highlight">Vanthondan</span> — “the devotee who uses harsh words” — and became known Himself as <span class="emphasis">Taduthatkonda Iswar</span>, the Lord who saved him.<br><br>At every shrine, the Lord played with him. Once, at Adigai Virattanam, Sundarar slept outside, too humble to enter. The Lord came as an old man and placed His feet on Sundarar’s head! When confronted, He whispered: <span class="emphasis">“Oh friend, don’t you know me?”</span> — and vanished. The Lord had come out to where His devotee was.<br><br>At Chidambaram, the sight of the temple tower sent him into ecstatic trance. A heavenly voice commanded: <span class="highlight">“Go to Tiruvarur.”</span></div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="paravayar">
  <div class="scene-bg" style="background:radial-gradient(ellipse at 50% 50%,rgba(200,100,100,0.14)0%,transparent 50%),var(--night);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs><radialGradient id="loveGlow" cx="50%" cy="50%" r="40%"><stop offset="0%" stop-color="rgba(212,168,67,0.22)"/><stop offset="100%" stop-color="transparent"/></radialGradient></defs>
<rect width="100%" height="100%" fill="#080512"/>
<!-- Grand Tiruvarur temple -->
<polygon points="500,150 580,420 420,420" fill="rgba(60,45,30,0.20)"/>
<rect x="410" y="420" width="180" height="80" fill="rgba(50,38,25,0.20)"/>
<!-- Gopuram tiers -->
<rect x="440" y="200" width="120" height="6" fill="rgba(80,60,40,0.42)"/>
<rect x="435" y="260" width="130" height="6" fill="rgba(80,60,40,0.35)"/>
<rect x="428" y="320" width="144" height="6" fill="rgba(80,60,40,0.28)"/>
<rect x="422" y="380" width="156" height="6" fill="rgba(80,60,40,0.25)"/>
<!-- Temple door glow -->
<rect x="485" y="450" width="30" height="50" rx="15" fill="rgba(212,168,67,0.28)"/>
<!-- Lamps -->
<circle cx="430" cy="490" r="3" fill="rgba(212,168,67,0.22)"><animate values="0.75;0.90;0.75" dur="2s" repeatCount="indefinite"/></circle>
<circle cx="570" cy="490" r="3" fill="rgba(212,168,67,0.22)"><animate values="0.75;0.90;0.75" dur="2.3s" repeatCount="indefinite"/></circle>
<!-- Sundarar (left) transformed — handsome bridegroom -->
<circle cx="380" cy="530" r="50" fill="rgba(212,168,67,0.10)"/>
<circle cx="380" cy="520" r="10" fill="rgba(212,168,67,0.40)"/>
<ellipse cx="380" cy="555" rx="14" ry="32" fill="rgba(212,168,67,0.35)"/>
<!-- Paravayar (right) with flowers -->
<circle cx="620" cy="525" r="50" fill="rgba(200,120,150,0.10)"/>
<circle cx="620" cy="515" r="10" fill="rgba(200,120,150,0.42)"/>
<ellipse cx="620" cy="550" rx="14" ry="32" fill="rgba(200,120,150,0.28)"/>
<!-- Love/destiny arc between them -->
<circle cx="500" cy="530" r="80" fill="url(#loveGlow)"/>
<path d="M 400 530 Q 500 480 600 530" fill="none" stroke="rgba(212,168,67,0.28)" stroke-width="1" stroke-dasharray="5 8"><animate attributeName="stroke-opacity" values="0.08;0.18;0.08" dur="4s" repeatCount="indefinite"/></path>
<!-- Heavenly voice — rays from sky -->
<line x1="500" y1="50" x2="480" y2="400" stroke="rgba(255,240,200,0.10)" stroke-width="30"><animate values="0.07;0.15;0.07" dur="5s" repeatCount="indefinite"/></line>
<!-- Flower garlands hanging -->
<path d="M 420 420 Q 460 430 500 420 Q 540 430 580 420" fill="none" stroke="rgba(200,100,80,0.21)" stroke-width="2"/>
</svg></div>
  <div class="light-rays" style="opacity:0.05"></div>
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter VI</div>
    <div class="chapter-title">Paravayar — Love at Tiruvarur</div>
    <div class="narrative-text">At <span class="highlight">Tiruvarur</span>, a heavenly voice declared: <span class="emphasis">“Sundarar! I have made you My friend.”</span> Instantly he became the most handsome of men — <span class="highlight">Tambiran Thozhar</span>, Friend of God.<br><br>There lived <span class="emphasis">Paravayar</span>, who was Kamalini reborn. The Lord appeared in both their dreams and arranged their wedding. He also inspired Sundarar to compose the famous <span class="highlight">Tiruthonda Thogai</span> — the Lord sang the first line Himself.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="miracles">
  <div class="scene-bg" style="background:radial-gradient(ellipse at 50% 30%,rgba(212,168,67,0.28)0%,transparent 50%),var(--night);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs><radialGradient id="goldGlow" cx="50%" cy="50%" r="40%"><stop offset="0%" stop-color="rgba(212,168,67,0.22)"/><stop offset="100%" stop-color="transparent"/></radialGradient></defs>
<rect width="100%" height="100%" fill="#080510"/>
<!-- Gold bricks pile — center -->
<g transform="translate(420,350)">
  <rect x="0" y="0" width="35" height="18" rx="2" fill="rgba(212,168,67,0.40)"><animate values="0.50;0.88;0.50" dur="3s" repeatCount="indefinite"/></rect>
  <rect x="40" y="3" width="35" height="18" rx="2" fill="rgba(212,168,67,0.40)"><animate values="0.45;0.80;0.45" dur="2.5s" repeatCount="indefinite"/></rect>
  <rect x="80" y="-2" width="35" height="18" rx="2" fill="rgba(212,168,67,0.40)"><animate values="0.55;0.90;0.55" dur="3.5s" repeatCount="indefinite"/></rect>
  <rect x="15" y="-20" width="35" height="18" rx="2" fill="rgba(212,168,67,0.40)"><animate values="0.40;0.75;0.40" dur="2.8s" repeatCount="indefinite"/></rect>
  <rect x="55" y="-18" width="35" height="18" rx="2" fill="rgba(212,168,67,0.40)"><animate values="0.50;0.83;0.50" dur="3.2s" repeatCount="indefinite"/></rect>
  <rect x="35" y="-38" width="35" height="18" rx="2" fill="rgba(212,168,67,0.40)"><animate values="0.35;0.70;0.35" dur="2.6s" repeatCount="indefinite"/></rect>
</g>
<!-- Golden radiance around bricks -->
<circle cx="490" cy="350" r="100" fill="url(#goldGlow)"><animate attributeName="r" values="100;130;100" dur="5s" repeatCount="indefinite"/></circle>
<!-- Grain heaps (left side) -->
<ellipse cx="200" cy="580" rx="80" ry="35" fill="rgba(180,150,80,0.28)"/>
<ellipse cx="200" cy="560" rx="60" ry="25" fill="rgba(180,150,80,0.21)"/>
<ellipse cx="200" cy="545" rx="40" ry="15" fill="rgba(180,150,80,0.14)"/>
<!-- Grain heaps (right) -->
<ellipse cx="800" cy="575" rx="70" ry="30" fill="rgba(180,150,80,0.25)"/>
<ellipse cx="800" cy="558" rx="50" ry="20" fill="rgba(180,150,80,0.18)"/>
<!-- Lord disguised as Brahmin begging — touching scene -->
<circle cx="700" cy="460" r="10" fill="rgba(255,240,200,0.35)"/>
<ellipse cx="700" cy="495" rx="13" ry="28" fill="rgba(255,240,200,0.25)"/>
<!-- Begging bowl -->
<path d="M 715 485 Q 720 490 715 495" fill="none" stroke="rgba(212,168,67,0.28)" stroke-width="2"/>
<!-- Sun above (scorching) -->
<circle cx="700" cy="200" r="30" fill="rgba(255,200,50,0.35)"/><circle cx="700" cy="200" r="15" fill="rgba(255,200,50,0.35)"><animate attributeName="r" values="15;20;15" dur="3s" repeatCount="indefinite"/></circle>
<!-- Houses He begs from -->
<rect x="750" y="480" width="40" height="30" fill="rgba(60,45,30,0.35)"/><polygon points="750,480 770,465 790,480" fill="rgba(70,50,30,0.35)"/>
<rect x="800" y="485" width="35" height="28" fill="rgba(60,45,30,0.28)"/><polygon points="800,485 817,472 835,485" fill="rgba(70,50,30,0.28)"/>
<!-- Sleeping Sundarar with brick pillow -->
<ellipse cx="490" cy="430" rx="25" ry="6" fill="rgba(100,80,60,0.28)"/>
<circle cx="480" cy="420" r="6" fill="rgba(212,168,67,0.25)"/>
<ellipse cx="490" cy="426" rx="15" ry="5" fill="rgba(212,168,67,0.18)"/>
<!-- Bhuta Ganas (ghostly servants) carrying grain at night -->
<g opacity="0.1">
<circle cx="350" cy="500" r="8" fill="#D4A843"/><circle cx="380" cy="490" r="8" fill="#D4A843"/><circle cx="410" cy="505" r="8" fill="#D4A843"/>
</g>
</svg></div>
  <div class="divine-glow"></div>
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter VII</div>
    <div class="chapter-title">Miracles of the Lord’s Friend</div>
    <div class="narrative-text">The Lord’s friendship was demonstrated through miracle after miracle.<br><br>When famine struck, the Lord sent <span class="emphasis">Kubera</span> to fill the granaries, and the <span class="highlight">Bhuta Ganas</span> carried mountains of grain to Tiruvarur overnight. When Paravayar needed gold, Sundarar slept on <span class="emphasis">bricks</span> — and woke to find them turned to gold. At Vridhachalam, the Lord gave <span class="highlight">twelve thousand gold pieces</span> — but only after Sundarar sang, because the Lord loved hearing him sing!<br><br>Once, the Lord set up a wayside shed and served food that never ran out. Another time, He went <span class="emphasis">house to house begging in the scorching sun</span> — to feed His own devotee.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="sangiliyar">
  <div class="scene-bg" style="background:radial-gradient(ellipse at 50% 50%,rgba(200,150,200,0.14)0%,transparent 50%),var(--night);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs><radialGradient id="treeGlow" cx="50%" cy="40%" r="30%"><stop offset="0%" stop-color="rgba(212,168,67,0.22)"/><stop offset="100%" stop-color="transparent"/></radialGradient></defs>
<rect width="100%" height="100%" fill="#060812"/>
<!-- Grand tree — the oath tree -->
<rect x="493" y="280" width="14" height="280" fill="rgba(80,55,30,0.53)"/>
<!-- Branches -->
<path d="M 500 320 Q 420 280 360 300" fill="none" stroke="rgba(60,40,20,0.35)" stroke-width="5"/>
<path d="M 500 320 Q 580 280 640 300" fill="none" stroke="rgba(60,40,20,0.35)" stroke-width="5"/>
<path d="M 500 360 Q 440 330 400 340" fill="none" stroke="rgba(60,40,20,0.28)" stroke-width="3"/>
<path d="M 500 360 Q 560 330 600 340" fill="none" stroke="rgba(60,40,20,0.28)" stroke-width="3"/>
<!-- Foliage canopy -->
<ellipse cx="500" cy="270" rx="120" ry="80" fill="rgba(30,60,20,0.42)"/>
<ellipse cx="480" cy="250" rx="90" ry="65" fill="rgba(35,65,22,0.28)"/>
<ellipse cx="520" cy="260" rx="100" ry="70" fill="rgba(32,58,18,0.35)"/>
<!-- DIVINE PRESENCE hidden in tree — glowing Shiva -->
<circle cx="500" cy="300" r="25" fill="url(#treeGlow)"><animate attributeName="r" values="25;40;25" dur="4s" repeatCount="indefinite"/></circle>
<circle cx="500" cy="300" r="8" fill="rgba(255,240,200,0.21)"><animate values="0.15;0.30;0.15" dur="3s" repeatCount="indefinite"/></circle>
<!-- Third eye in tree -->
<circle cx="500" cy="297" r="2" fill="rgba(232,117,42,0.55)"><animate values="0.38;0.88;0.38" dur="2.5s" repeatCount="indefinite"/></circle>
<!-- Sundarar taking oath (left) -->
<circle cx="430" cy="530" r="9" fill="rgba(212,168,67,0.42)"/><ellipse cx="430" cy="565" rx="12" ry="28" fill="rgba(212,168,67,0.28)"/>
<!-- Right hand raised for oath -->
<line x1="440" y1="548" x2="455" y2="520" stroke="rgba(212,168,67,0.25)" stroke-width="3"/>
<!-- Sangiliyar (right) with garlands -->
<circle cx="570" cy="535" r="9" fill="rgba(200,150,200,0.35)"/><ellipse cx="570" cy="570" rx="12" ry="28" fill="rgba(200,150,200,0.25)"/>
<!-- Flower garland she was making -->
<path d="M 555 555 Q 560 548 565 555" fill="none" stroke="rgba(200,100,150,0.28)" stroke-width="2"/>
<!-- Ground -->
<ellipse cx="500" cy="600" rx="200" ry="15" fill="rgba(40,30,15,0.21)"/>
<!-- Stars -->
<circle cx="150" cy="100" r="1" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.90;0.90" dur="3s" repeatCount="indefinite"/></circle>
<circle cx="850" cy="80" r="0.8" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.50;0.90" dur="4s" repeatCount="indefinite"/></circle>
</svg></div>
  <div class="fog"></div>
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter VIII</div>
    <div class="chapter-title">Sangiliyar and the Oath</div>
    <div class="narrative-text">At Tiruvotriyur, Sundarar met <span class="emphasis">Sangiliyar</span> — Aninditi reborn. The Lord arranged the marriage, but Sangiliyar demanded: <span class="highlight">“He must promise never to leave me.”</span><br><br>Sundarar made a clever deal with the Lord: <span class="emphasis">“When I take the oath, hide Your presence in the nearby tree so my promise will be hollow.”</span> The Lord agreed — then told Sangiliyar to ask for the promise before the tree, not the Lingam! Sundarar was trapped by his own cleverness. The Lord had outwitted His own friend.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="blindness">
  <div class="scene-bg" style="background:linear-gradient(180deg,#050510 0%,#0a0510 50%,#050510 100%);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<rect width="100%" height="100%" fill="#020206"/>
<!-- Almost total darkness -->
<rect width="100%" height="100%" fill="rgba(0,0,0,0.20)"/>
<!-- Fallen figure — stumbling -->
<ellipse cx="500" cy="540" rx="40" ry="8" fill="rgba(80,60,40,0.21)"/>
<circle cx="485" cy="525" r="8" fill="rgba(212,168,67,0.21)"/>
<ellipse cx="500" cy="530" rx="18" ry="6" fill="rgba(212,168,67,0.14)"/>
<!-- Crossed-out eyes symbolism -->
<line x1="480" y1="521" x2="488" y2="529" stroke="rgba(139,37,0,0.42)" stroke-width="1.5"/>
<line x1="488" y1="521" x2="480" y2="529" stroke="rgba(139,37,0,0.42)" stroke-width="1.5"/>
<!-- Blind-man's stick -->
<line x1="515" y1="510" x2="540" y2="580" stroke="rgba(120,100,70,0.35)" stroke-width="2.5"/>
<!-- Tears -->
<circle cx="478" cy="530" r="1" fill="rgba(150,200,255,0.35)"><animate attributeName="cy" values="530;545;530" dur="3s" repeatCount="indefinite"/><animate values="0.25;0.00;0.25" dur="3s" repeatCount="indefinite"/></circle>
<circle cx="492" cy="532" r="1" fill="rgba(150,200,255,0.28)"><animate attributeName="cy" values="532;548;532" dur="3.5s" repeatCount="indefinite"/><animate values="0.20;0.00;0.20" dur="3.5s" repeatCount="indefinite"/></circle>
<!-- Mother Kamakshi — distant goddess figure above left -->
<circle cx="250" cy="250" r="50" fill="rgba(200,120,120,0.10)"/>
<circle cx="250" cy="240" r="8" fill="rgba(200,120,120,0.21)"/>
<ellipse cx="250" cy="265" rx="10" ry="20" fill="rgba(200,120,120,0.14)"/>
<!-- Her mercy ray — single beam to one eye -->
<line x1="270" y1="260" x2="482" y2="525" stroke="rgba(200,120,120,0.14)" stroke-width="3"><animate values="0.10;0.20;0.10" dur="5s" repeatCount="indefinite"/></line>
<!-- Distant temple tower — hope -->
<polygon points="800,400 815,340 830,400" fill="rgba(60,45,30,0.21)"/>
<circle cx="815" cy="337" r="3" fill="rgba(212,168,67,0.28)"><animate values="0.20;0.50;0.20" dur="3s" repeatCount="indefinite"/></circle>
<!-- Golden body transformation hint -->
<circle cx="500" cy="520" r="60" fill="rgba(212,168,67,0.04)"><animate values="0.03;0.10;0.03" dur="6s" repeatCount="indefinite"/></circle>
<!-- Path of suffering — winding road -->
<path d="M 100 600 Q 250 570 400 590 Q 550 610 700 580 Q 850 550 1000 570" fill="none" stroke="rgba(100,80,60,0.14)" stroke-width="3"/>
</svg></div>
  
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter IX</div>
    <div class="chapter-title">The Price of a Broken Promise</div>
    <div class="narrative-text">But Sundarar could not stay. He remembered Tiruvarur, Paravayar, the festival. He left — and the moment he crossed the border, <span class="emphasis">he lost his eyesight and fell</span>. A promise was a promise.<br><br>Blind and broken, he crawled from shrine to shrine. At one temple, the Lord gave him <span class="highlight">a blind-man’s stick</span> and said coldly: <span class="emphasis">“I am here. You can go.”</span></div>
  <div class="quote-block">“You gave me all the pleasures. But now You give me the blind-man’s staff. Am I unfit for Your mercy?”</div>
  <div class="narrative-text">At Conjeevaram, <span class="highlight">Mother Kamakshi</span> moved Siva’s heart — one eye was restored. Later, his body <span class="emphasis">turned golden</span>. Finally, at Tiruvarur, the second eye was healed. The first thing he saw was the temple tower.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="reconcile">
  <div class="scene-bg" style="background:radial-gradient(ellipse at 50% 50%,rgba(212,168,67,0.21)0%,transparent 50%),var(--night);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<rect width="100%" height="100%" fill="#050510"/>
<!-- Night sky with stars -->
<circle cx="150" cy="80" r="1" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.90;0.90" dur="3s" repeatCount="indefinite"/></circle>
<circle cx="400" cy="50" r="0.8" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.50;0.90" dur="4s" repeatCount="indefinite"/></circle>
<circle cx="700" cy="100" r="1.2" fill="#fff8dc" opacity="0.8"><animate values="0.75;0.90;0.75" dur="5s" repeatCount="indefinite"/></circle>
<!-- Paravayar's house -->
<rect x="580" y="350" width="150" height="120" fill="rgba(50,35,25,0.70)"/>
<polygon points="580,350 655,290 730,350" fill="rgba(60,42,28,0.70)"/>
<!-- Lit doorway -->
<rect x="630" y="400" width="30" height="70" rx="3" fill="rgba(212,168,67,0.28)"/>
<circle cx="645" cy="430" r="30" fill="rgba(212,168,67,0.10)"><animate attributeName="r" values="30;45;30" dur="4s" repeatCount="indefinite"/></circle>
<!-- Paravayar in doorway -->
<circle cx="645" cy="420" r="6" fill="rgba(200,150,100,0.35)"/><ellipse cx="645" cy="445" rx="9" ry="20" fill="rgba(200,150,100,0.25)"/>
<!-- LORD as Brahmin messenger — walking toward house with divine subtle glow -->
<circle cx="400" cy="430" r="70" fill="rgba(255,240,200,0.07)"><animate attributeName="r" values="70;90;70" dur="5s" repeatCount="indefinite"/></circle>
<circle cx="400" cy="420" r="12" fill="rgba(255,240,200,0.42)"/>
<ellipse cx="400" cy="460" rx="15" ry="35" fill="rgba(255,240,200,0.28)"/>
<!-- Sacred ash marks -->
<line x1="394" y1="416" x2="406" y2="416" stroke="rgba(255,255,255,0.21)" stroke-width="1"/>
<!-- Subtle third eye (hidden divinity) -->
<circle cx="400" cy="414" r="1.5" fill="rgba(232,117,42,0.55)"><animate values="0.25;0.62;0.25" dur="3s" repeatCount="indefinite"/></circle>
<!-- Moon -->
<circle cx="200" cy="120" r="20" fill="rgba(255,248,220,0.28)"/>
<!-- Sleeping Sundarar (waiting anxiously, distant) -->
<ellipse cx="200" cy="550" rx="20" ry="6" fill="rgba(212,168,67,0.14)"/>
<circle cx="195" cy="542" r="5" fill="rgba(212,168,67,0.21)"/>
<!-- Midnight atmosphere — deep blue/purple -->
<rect width="100%" height="100%" fill="rgba(20,10,40,0.53)"/>
</svg></div>
  
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter X</div>
    <div class="chapter-title">God Becomes the Messenger</div>
    <div class="narrative-text">Paravayar learnt of the second marriage. She was furious and refused to see him. At midnight, desperate, Sundarar asked <span class="emphasis">Lord Siva Himself to go as his messenger</span>.<br><br>The Lord of the Universe, disguised as a Brahmin, actually went! Paravayar refused the first time. Then she realized the Brahmin was <span class="highlight">the Lord Himself</span>. He appeared in His true form and said: <span class="emphasis">“Do not refuse. He is suffering.”</span><br><br>Paravayar replied: <span class="highlight">“You have taken such trouble at midnight for Your friend. How can I refuse?”</span> The Lord of all creation had gone as a midnight messenger.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="crocodile">
  <div class="scene-bg" style="background:linear-gradient(180deg,#060818 0%,#081520 50%,#060a15 100%);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs><linearGradient id="water" x1="0" y1="0" x2="0" y2="1"><stop offset="0%" stop-color="rgba(30,60,100,0.28)"/><stop offset="100%" stop-color="rgba(20,40,80,0.20)"/></linearGradient></defs>
<rect width="100%" height="100%" fill="#060818"/>
<!-- Tank / water body -->
<rect x="150" y="400" width="700" height="250" rx="10" fill="url(#water)"/>
<!-- Water surface shimmer -->
<ellipse cx="500" cy="400" rx="350" ry="15" fill="rgba(100,150,220,0.14)"><animate attributeName="rx" values="350;360;350" dur="4s" repeatCount="indefinite"/></ellipse>
<!-- Ripples -->
<ellipse cx="500" cy="480" rx="40" ry="6" fill="none" stroke="rgba(150,200,255,0.18)" stroke-width="1"><animate attributeName="rx" values="40;80;40" dur="3s" repeatCount="indefinite"/><animate values="0.12;0.00;0.12" dur="3s" repeatCount="indefinite"/></ellipse>
<ellipse cx="500" cy="480" rx="60" ry="8" fill="none" stroke="rgba(150,200,255,0.14)" stroke-width="1"><animate attributeName="rx" values="60;120;60" dur="4s" repeatCount="indefinite"/><animate values="0.10;0.00;0.10" dur="4s" repeatCount="indefinite"/></ellipse>
<!-- BOY emerging from water — radiant with divine glow -->
<circle cx="500" cy="430" r="60" fill="rgba(212,168,67,0.21)"><animate attributeName="r" values="60;80;60" dur="4s" repeatCount="indefinite"/></circle>
<circle cx="500" cy="420" r="8" fill="rgba(255,240,200,0.35)"><animate attributeName="cy" values="420;410;420" dur="3s" repeatCount="indefinite"/></circle>
<ellipse cx="500" cy="445" rx="10" ry="20" fill="rgba(255,240,200,0.35)"><animate attributeName="cy" values="445;435;445" dur="3s" repeatCount="indefinite"/></ellipse>
<!-- Blessing light from above on boy -->
<line x1="500" y1="200" x2="500" y2="400" stroke="rgba(212,168,67,0.14)" stroke-width="30"><animate values="0.10;0.20;0.10" dur="3s" repeatCount="indefinite"/></line>
<!-- Crocodile silhouette below -->
<ellipse cx="500" cy="560" rx="60" ry="12" fill="rgba(40,50,30,0.28)"/>
<ellipse cx="470" cy="555" rx="8" ry="5" fill="rgba(40,50,30,0.21)"/>
<!-- Open jaw -->
<path d="M 530 548 L 545 555 L 530 562" fill="none" stroke="rgba(40,50,30,0.21)" stroke-width="1.5"/>
<!-- Sundarar praying at edge -->
<circle cx="230" cy="385" r="8" fill="rgba(212,168,67,0.35)"/><ellipse cx="230" cy="410" rx="10" ry="22" fill="rgba(212,168,67,0.25)"/>
<!-- Raised hands praying -->
<line x1="222" y1="398" x2="215" y2="378" stroke="rgba(212,168,67,0.21)" stroke-width="2"/>
<line x1="238" y1="398" x2="245" y2="378" stroke="rgba(212,168,67,0.21)" stroke-width="2"/>
<!-- Joyful crowd on other side -->
<g opacity="0.1"><circle cx="750" cy="388" r="5" fill="#D4A843"/><circle cx="770" cy="392" r="5" fill="#D4A843"/><circle cx="730" cy="395" r="5" fill="#D4A843"/><circle cx="710" cy="390" r="5" fill="#D4A843"/></g>
<!-- Sacred thread hint -->
<path d="M 495 430 L 505 425" fill="none" stroke="rgba(255,240,200,0.28)" stroke-width="1"/>
<!-- Temple in background -->
<polygon points="500,250 520,200 540,250" fill="rgba(60,45,30,0.21)"/>
</svg></div>
  
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter XI</div>
    <div class="chapter-title">The Boy and the Crocodile</div>
    <div class="narrative-text">At <span class="highlight">Avinasi</span>, two boys had gone to bathe. One was caught by a crocodile. Sundarar, moved by the family’s devotion, sang to the Lord.<br><br>The impossible happened. Lord Siva <span class="emphasis">entered the crocodile’s stomach</span> and reconstituted the boy’s body. Lord Yama released his soul. The crocodile opened its mouth — and out came the boy, <span class="highlight">more handsome than before</span>, showing natural signs of growth as if time had passed normally. The town wept with joy.</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-narrative" data-scene="kailasa2">
  <div class="scene-bg" style="background:radial-gradient(ellipse at 50% 30%,rgba(212,168,67,0.42)0%,transparent 60%),var(--night);"></div>
  <div class="scene-visual"><svg viewBox="0 0 1000 800" preserveAspectRatio="xMidYMid slice">
<defs>
  <radialGradient id="glory" cx="50%" cy="25%" r="40%"><stop offset="0%" stop-color="rgba(212,168,67,0.22)"/><stop offset="50%" stop-color="rgba(212,168,67,0.40)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
  <radialGradient id="eGlow" cx="50%" cy="50%" r="50%"><stop offset="0%" stop-color="rgba(255,255,255,0.25)"/><stop offset="100%" stop-color="transparent"/></radialGradient>
</defs>
<rect width="100%" height="100%" fill="#060818"/>
<!-- Stars -->
<circle cx="100" cy="100" r="1.2" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.50;0.90" dur="3s" repeatCount="indefinite"/></circle>
<circle cx="300" cy="60" r="1" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.90;0.90" dur="4s" repeatCount="indefinite"/></circle>
<circle cx="700" cy="80" r="0.8" fill="#fff8dc" opacity="0.9"><animate values="0.90;0.50;0.90" dur="2.5s" repeatCount="indefinite"/></circle>
<circle cx="900" cy="50" r="1" fill="#fff8dc" opacity="0.8"><animate values="0.75;0.90;0.75" dur="5s" repeatCount="indefinite"/></circle>
<!-- KAILASA GATE — grand archway at top -->
<rect x="400" y="100" width="200" height="120" fill="rgba(255,240,200,0.10)" rx="5"/>
<rect x="420" y="105" width="160" height="110" fill="rgba(255,240,200,0.07)" rx="3"/>
<!-- Gate pillars -->
<rect x="400" y="100" width="15" height="120" fill="rgba(212,168,67,0.21)"/>
<rect x="585" y="100" width="15" height="120" fill="rgba(212,168,67,0.21)"/>
<!-- Gate arch -->
<path d="M 415 100 Q 500 60 585 100" fill="none" stroke="rgba(212,168,67,0.28)" stroke-width="3"/>
<!-- Divine light through gate -->
<rect x="460" y="130" width="80" height="90" rx="40" fill="rgba(255,240,200,0.21)"><animate values="0.15;0.30;0.15" dur="4s" repeatCount="indefinite"/></rect>
<!-- Gate radiance -->
<circle cx="500" cy="170" r="80" fill="url(#glory)"><animate attributeName="r" values="80;120;80" dur="5s" repeatCount="indefinite"/></circle>
<!-- WHITE ELEPHANT flying -->
<circle cx="400" cy="380" r="60" fill="url(#eGlow)"/>
<ellipse cx="400" cy="390" rx="50" ry="30" fill="rgba(255,255,255,0.21)"/>
<!-- Elephant head -->
<ellipse cx="365" cy="375" rx="18" ry="22" fill="rgba(255,255,255,0.18)"/>
<!-- Trunk -->
<path d="M 352 385 Q 340 410 345 430" fill="none" stroke="rgba(255,255,255,0.14)" stroke-width="5"/>
<!-- Ears -->
<ellipse cx="355" cy="365" rx="12" ry="15" fill="rgba(255,255,255,0.10)"/>
<!-- Tusks -->
<line x1="358" y1="388" x2="350" y2="400" stroke="rgba(255,248,220,0.21)" stroke-width="2"/>
<!-- Legs -->
<line x1="375" y1="415" x2="370" y2="445" stroke="rgba(255,255,255,0.10)" stroke-width="4"/>
<line x1="395" y1="418" x2="390" y2="448" stroke="rgba(255,255,255,0.10)" stroke-width="4"/>
<line x1="415" y1="415" x2="420" y2="445" stroke="rgba(255,255,255,0.10)" stroke-width="4"/>
<!-- Sundarar riding -->
<circle cx="400" cy="355" r="8" fill="rgba(212,168,67,0.40)"/><ellipse cx="400" cy="372" rx="10" ry="14" fill="rgba(212,168,67,0.35)"/>
<!-- CHERAMAN on horse flying alongside -->
<ellipse cx="620" cy="420" rx="30" ry="16" fill="rgba(180,150,120,0.18)"/>
<ellipse cx="605" cy="412" rx="8" ry="12" fill="rgba(180,150,120,0.14)"/>
<circle cx="620" cy="400" r="7" fill="rgba(200,150,100,0.28)"/>
<!-- Horse legs running in air -->
<line x1="600" y1="435" x2="590" y2="455" stroke="rgba(180,150,120,0.10)" stroke-width="2"/>
<line x1="640" y1="435" x2="650" y2="455" stroke="rgba(180,150,120,0.10)" stroke-width="2"/>
<!-- Ascending glory rings -->
<circle cx="500" cy="300" r="80" fill="none" stroke="rgba(212,168,67,0.21)" stroke-width="1"><animate attributeName="r" values="80;200" dur="5s" repeatCount="indefinite"/><animate values="0.15;0.00" dur="5s" repeatCount="indefinite"/></circle>
<circle cx="500" cy="300" r="50" fill="none" stroke="rgba(212,168,67,0.28)" stroke-width="1"><animate attributeName="r" values="50;170" dur="4s" repeatCount="indefinite"/><animate values="0.20;0.00" dur="4s" repeatCount="indefinite"/></circle>
<circle cx="500" cy="300" r="120" fill="none" stroke="rgba(212,168,67,0.14)" stroke-width="0.5"><animate attributeName="r" values="120;250" dur="6s" repeatCount="indefinite"/><animate values="0.10;0.00" dur="6s" repeatCount="indefinite"/></circle>
<!-- Earth below — fading away -->
<ellipse cx="500" cy="700" rx="400" ry="60" fill="rgba(30,50,20,0.14)"/>
</svg></div>
  <div class="light-rays" style="opacity:0.14"></div><div class="divine-glow"></div>
  <div class="scene-overlay"></div>
  <div class="scene-content">
    <div class="chapter-num">Chapter XII</div>
    <div class="chapter-title">The Return to Kailasa</div>
    <div class="narrative-text">Weary of the world, Sundarar prayed: <span class="emphasis">“Take me back to Kailasa.”</span> The Lord sent a <span class="highlight">white elephant</span>. Sundarar ascended in his spiritual body, leaving the material form behind.<br><br>King <span class="emphasis">Cheraman Perumal</span>, sensing this, mounted a horse, whispered the <span class="highlight">Panchakshara</span> in its ears, and flew up. At the Gate of Kailasa, Sundarar pleaded for his friend, and the Lord admitted Cheraman too.<br><br><span class="emphasis">Paravayar and Sangiliyar</span>, freed of karma, also reached Kailasa — resuming their duties as Parvathi’s attendants. The circle was complete.</div>
  <div class="quote-block">“Oh Ocean of Mercy, You have pardoned my sins and bestowed Immortal Bliss.”</div>
  </div>
</div><div class="scene-divider"></div>
<div class="scene scene-final" data-scene="final">
  <div class="scene-bg" style="background:var(--night);"></div>
  <div class="light-rays" style="opacity:0.08"></div><div class="divine-glow"></div>
  <div class="scene-content" style="text-align:center">
    <div class="final-text">Glory to Sundaramurthi Nayanar!<br>Friend of God, Singer of Thevaram,<br>Beloved of the Lord!</div>
    <div class="final-sanskrit">ॐ नमः शिवाय</div>
  </div>
</div>
</div>

<div id="controls-bar">
  <button class="ctrl-btn play-btn" id="btn-play"><span class="icon">&#9654;</span> <span id="play-label">Play Story</span></button>
  <button class="ctrl-btn" id="btn-pause" style="display:none"><span class="icon">&#10074;&#10074;</span> <span id="pause-label">Pause</span></button>
  <button class="ctrl-btn" id="btn-skip"><span class="icon">&#9197;</span> Next</button>
  <button class="ctrl-btn" id="btn-music"><span class="icon">&#127925;</span> <span id="music-label">Music</span></button>
  <div id="vol-control"><label>Vol</label><input type="range" id="vol-slider" min="0" max="100" step="5" value="50"><span id="vol-val">50%</span></div>
  <div id="speed-control"><label>Speed</label><input type="range" id="speed-slider" min="0.5" max="1.5" step="0.05" value="0.75"><span id="speed-val">0.75x</span></div>
</div>
<script>
window.addEventListener("load",()=>setTimeout(()=>document.getElementById("preloader").classList.add("hidden"),2200));
window.addEventListener("scroll",()=>{document.getElementById("progress").style.width=(window.scrollY/(document.documentElement.scrollHeight-window.innerHeight))*100+"%";});
const scenes=document.querySelectorAll(".scene:not(.scene-title)");const revealObs=new IntersectionObserver(es=>es.forEach(e=>{if(e.isIntersecting)e.target.classList.add("visible");}),{threshold:0.1});scenes.forEach(s=>revealObs.observe(s));
const canvas=document.getElementById('particle-canvas'),ctx=canvas.getContext('2d');let parts=[];
function resC(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}resC();window.addEventListener('resize',resC);
class P{constructor(){this.reset();}reset(){this.x=Math.random()*canvas.width;this.y=canvas.height+10;this.sz=Math.random()*2+0.5;this.sy=-(Math.random()*0.5+0.15);this.sx=(Math.random()-0.5)*0.3;this.op=Math.random()*0.35+0.05;this.fs=Math.random()*0.003+0.001;this.glow=Math.random()>0.7;}update(){this.y+=this.sy;this.x+=this.sx+Math.sin(this.y*0.01)*0.2;this.op-=this.fs;if(this.op<=0||this.y<-10)this.reset();}draw(){ctx.beginPath();ctx.arc(this.x,this.y,this.sz,0,Math.PI*2);if(this.glow){ctx.shadowBlur=8;ctx.shadowColor='rgba(232,117,42,0.22)';}ctx.fillStyle=`rgba(212,168,67,${this.op})`;ctx.fill();ctx.shadowBlur=0;}}
for(let i=0;i<80;i++)parts.push(new P());
(function aP(){ctx.clearRect(0,0,canvas.width,canvas.height);parts.forEach(p=>{p.update();p.draw();});requestAnimationFrame(aP);})();

const NAR={
title:"Sundaramurthi Nayanar.  ...  Story number one... of the sixty-three Nayanars.  ...  The extraordinary tale... of the man whom God Himself... called His friend.  ...  A story of love... loss... miracles... and the bond between a devotee and his Lord.  ...  He lived only eighteen years... but in those years... he lived more than most do in a lifetime.  ...  Let us begin.",
kailasa:"Long before this story begins on earth... it begins in heaven.  ...  In Kailasa... the celestial abode of Lord Shiva... there lived a devoted attendant named Alala Sundarar.  He served the Lord faithfully... bringing flowers from the divine gardens.  He had earned this honor because during the churning of the Milky Ocean... when deadly poison threatened all existence... it was Sundarar who collected the poison... and gave it to Lord Shiva... who drank it to save the world.  ...  But one fateful day... while picking flowers... he cast a lustful glance upon Aninditi and Kamalini... the attendants of Goddess Parvathi.  They too fell in love.  ...  Lord Shiva saw everything and said...  Since you have fallen in love... all three of you shall take human birth on earth.  ...  Sundarar wept.  Oh Lord... I am afraid I will forget You... dispel my ignorance and take me back!  ...  And the Lord... granted this wish.",
birth:"In the sacred town of Thiru Navalur... there lived a pious Brahmin named Sadaiyanar... and his wife Isaignaniar.  Into their home... a divine child was born.  They named him Nambi Arurar.  ...  The baby was so radiant... that the local king was captivated... and begged to raise the boy under royal care.  Sadaiyanar... free from worldly attachment... agreed.  And so little Arurar grew up in the palace.",
wedding:"When Arurar came of age... his marriage was arranged.  The sacred fire was lit.  The bride was ready.  ...  But just as the ceremony was about to begin... an old Brahmin appeared.  Sacred ashes on his body... Rudraksha beads... matted locks.  He held up a document and declared...  This man Arurar... is my bond-slave!  I have a document from his grandfather.  He cannot marry!  ...  The wedding halted.  Arurar was furious.  Who are you?  ...  I belong to Tiruvennai Nellur.  ...  Arurar called him a liar.  Come!  Let us settle this before the wise men!",
revelation:"At Tiruvennai Nellur... the assembly examined the document.  I... Aruran... execute this bond of slavery.  I and my progeny are bond-slaves to Pithan of Tiruvennai Nellur.  ...  Pithan means madman.  And Pithan... was Lord Shiva Himself.  ...  The claim was valid.  Then the Brahmin led everyone into the temple... and vanished!  ...  Arurar understood.  The old man was the Lord!  ...  The Lord appeared and said...  You called Me Pithan.  So begin with this word and compose a poem.  ...  And so was born... Pitha Pirai Soodi... the first Thevaram.  The Lord became known as Taduthatkonda Iswar... the Lord who saved.",
pilgrim:"Sundarar became a wandering singer of God's glory.  The Lord called him Vanthondan... the devotee who uses harsh words.  ...  He visited shrine after shrine... singing hymns of such beauty.  At every place... the Lord played with him.  ...  Once... Sundarar stayed outside a temple... too humble to enter.  That night... the Lord came as an old man... and placed His feet on Sundarar's head!  Oh friend... don't you know me?  ...  And vanished.  The Lord had come to where His devotee was.  ...  At Chidambaram... the sight of the temple tower sent him into ecstasy.  A voice commanded...  Go to Tiruvarur.",
paravayar:"At Tiruvarur... a heavenly voice declared...  Sundarar!  I have made you My friend.  ...  Instantly he became the most handsome of men.  People called him Tambiran Thozhar... Friend of God.  ...  There lived Paravayar... Kamalini reborn.  The Lord appeared in both their dreams and arranged their wedding.  He also inspired the famous Tiruthonda Thogai... the Lord sang the first line Himself.",
miracles:"The Lord's friendship was proven through miracle after miracle.  ...  When famine struck... the Lord sent Kubera... the God of Wealth.  The Bhuta Ganas carried mountains of grain to Tiruvarur overnight.  ...  When Paravayar needed gold... Sundarar slept on bricks... and woke to find them turned to gold!  At Vridhachalam... twelve thousand gold pieces... but only after Sundarar sang a song... because the Lord loved hearing him sing!  ...  Once... the Lord set up a wayside food shed... disguised as a Brahmin.  Another time... He went house to house... begging in the sun... to feed His own devotee.  The Lord of the universe... begging door to door... for His friend.",
sangiliyar:"At Tiruvotriyur... Sundarar met Sangiliyar... Aninditi reborn.  The Lord arranged the marriage... but Sangiliyar demanded...  He must promise never to leave me.  ...  Sundarar made a clever deal with the Lord.  When I take the oath... hide in the nearby tree... so my promise will be hollow.  The Lord agreed!  ...  But then... He told Sangiliyar to ask for the promise before the tree... not the Lingam!  Sundarar was trapped by his own cleverness.  The Lord had outwitted His own friend.",
blindness:"But Sundarar could not stay.  He remembered Tiruvarur.  He left... and the moment he crossed the border... he lost his eyesight... and fell.  ...  The Lord's justice was impartial.  A promise was a promise.  ...  Blind and broken... he crawled from shrine to shrine.  At one temple... the Lord gave him a blind-man's stick... and said coldly...  I am here.  You can go.  ...  At Conjeevaram... he poured his heart to Mother Kamakshi.  She moved Lord Shiva's heart... one eye was restored.  Later... his body turned golden.  Finally at Tiruvarur... the second eye was healed.  The first thing he saw... was the temple tower.",
reconcile:"Paravayar learnt of the second marriage.  She refused to see him.  At midnight... Sundarar asked Lord Shiva Himself... to go as his messenger!  ...  The Lord... disguised as a Brahmin... actually went!  She refused.  Then realized... the Brahmin was the Lord.  He appeared in His true form.  Do not refuse.  He is suffering.  ...  Paravayar said...  You have taken such trouble at midnight for Your friend.  How can I refuse?  ...  The Lord of creation... a midnight messenger... for His friend's marriage.",
crocodile:"At Avinasi... two boys went to bathe.  One was caught by a crocodile.  Sundarar sang to the Lord.  ...  The impossible happened.  Lord Shiva entered the crocodile's stomach... and reconstituted the boy's body.  Lord Yama released his soul.  The crocodile opened its mouth... and out came the boy... more handsome than before... as if time had passed naturally.  The town wept with joy.",
kailasa2:"Weary of the world... Sundarar prayed...  Take me back to Kailasa.  ...  The Lord sent a white elephant.  Sundarar ascended... in his spiritual body... leaving the material form behind.  ...  King Cheraman Perumal... sensing this... mounted a horse... whispered the Panchakshara in its ears... and the horse flew up!  ...  At the Gate of Kailasa... Sundarar pleaded for his friend.  The Lord admitted Cheraman too.  ...  Paravayar and Sangiliyar... freed of karma... also reached Kailasa.  The circle was complete.  The love story that began in heaven... ended in heaven.",
final:"Glory to Sundaramurthi Nayanar!  ...  Friend of God... Singer of Thevaram... Beloved of the Lord!  ...  Om Namah Shivaya."
};

let narActive=false,narPaused=false,curUtt=null,curSI=0,speechRate=0.75;
const SO=['title','kailasa','birth','wedding','revelation','pilgrim','paravayar','miracles','sangiliyar','blindness','reconcile','crocodile','kailasa2','final'];
const CH={title:'Introduction',kailasa:'Ch I',birth:'Ch II',wedding:'Ch III',revelation:'Ch IV',pilgrim:'Ch V',paravayar:'Ch VI',miracles:'Ch VII',sangiliyar:'Ch VIII',blindness:'Ch IX',reconcile:'Ch X',crocodile:'Ch XI',kailasa2:'Ch XII',final:'Conclusion'};
let bestVoice=null;
function pickVoice(){const v=speechSynthesis.getVoices();
  // Priority: Indian English male voices for warm storyteller sound
  const prefs=[
    /Rishi/i,              // Apple Indian English Male — deep & warm
    /Microsoft Ravi/i,     // Windows Indian English Male
    /Microsoft Hemant/i,   // Windows Hindi Male
    /Google हिन्दी/i,       // Google Hindi
    /Google Hindi/i,
  ];
  // Second tier: any en-IN voice
  const tier2=[/en.IN/i,/English.*India/i,/Veena/i,/Lekha/i];
  // Third tier: deep male English voices
  const tier3=[/Daniel/i,/Aaron/i,/Google UK English Male/i,/Microsoft David/i,/Alex$/i];
  // Fourth tier: any English
  const tier4=[/Google UK English Female/i,/Samantha/i,/Karen/i,/Google US English/i];
  for(const list of[prefs,tier2,tier3,tier4]){for(const t of list){const f=v.find(x=>t.test(x.name)||t.test(x.lang));if(f){bestVoice=f;showVoiceInfo();return;}}}
  const enIn=v.find(x=>x.lang==='en-IN');if(enIn){bestVoice=enIn;showVoiceInfo();return;}
  const en=v.find(x=>x.lang.startsWith('en'));if(en)bestVoice=en;else if(v.length)bestVoice=v[0];showVoiceInfo();
}
function showVoiceInfo(){if(bestVoice){const el=document.getElementById('narration-status');el.textContent='Voice: '+bestVoice.name+' ('+bestVoice.lang+')';el.classList.add('show');clearTimeout(el._t);el._t=setTimeout(()=>el.classList.remove('show'),5000);}}
speechSynthesis.onvoiceschanged=pickVoice;pickVoice();
function getEl(n){return document.querySelector(`[data-scene="${n}"]`);}
function scrollTo(n){const el=getEl(n);if(el){el.classList.add('visible');el.scrollIntoView({behavior:'smooth',block:'center'});}}
function markNar(n){document.querySelectorAll('.scene.narrating').forEach(s=>s.classList.remove('narrating'));const el=getEl(n);if(el)el.classList.add('narrating');}
function showSt(t){const el=document.getElementById('narration-status');el.textContent=t;el.classList.add('show');clearTimeout(el._t);el._t=setTimeout(()=>el.classList.remove('show'),4000);}
function speakScene(i){
  if(i>=SO.length){stopNar();showSt('Story complete');return;}
  curSI=i;const nm=SO[i],txt=NAR[nm];if(!txt){speakScene(i+1);return;}
  scrollTo(nm);markNar(nm);showSt('Reading: '+(CH[nm]||nm));
  // Duck music during narration
  if(audioPlaying&&masterGain)masterGain.gain.setTargetAtTime(musicVol*0.4,audioCtx.currentTime,1);
  const u=new SpeechSynthesisUtterance(txt);
  if(bestVoice)u.voice=bestVoice;u.rate=speechRate;u.pitch=(nm==='wedding'||nm==='blindness')?0.92:(nm==='reconcile')?0.82:(nm==='kailasa2'||nm==='final')?0.88:0.85;u.volume=1.0;
  // Auto-advance to next scene when done
  u.onend=()=>{if(!narActive)return;
    // Restore music volume briefly between scenes
    if(audioPlaying&&masterGain)masterGain.gain.setTargetAtTime(musicVol*0.8,audioCtx.currentTime,0.5);
    setTimeout(()=>{if(narActive&&!narPaused)speakScene(i+1);},2500);};
  u.onerror=()=>{if(narActive)setTimeout(()=>speakScene(i+1),1500);};
  curUtt=u;speechSynthesis.speak(u);
}
function startNar(){speechSynthesis.cancel();narActive=true;narPaused=false;
  document.getElementById('btn-play').classList.add('active');document.getElementById('play-label').textContent='Stop';
  document.getElementById('btn-pause').style.display='';
  // Auto-start music when story starts
  if(!audioPlaying){
    if(!audioCtx)initAudio();else{audioCtx.resume();if(!tanpuraTimer)startCycle();}
    masterGain.gain.setTargetAtTime(musicVol*0.4,audioCtx.currentTime,1.5);
    document.getElementById('music-label').textContent='Music On';document.getElementById('btn-music').classList.add('active');audioPlaying=true;}
  speakScene(curSI);}
function stopNar(){speechSynthesis.cancel();narActive=false;narPaused=false;curSI=0;
  document.getElementById('btn-play').classList.remove('active');document.getElementById('play-label').textContent='Play Story';
  document.getElementById('btn-pause').style.display='none';
  document.querySelectorAll('.scene.narrating').forEach(s=>s.classList.remove('narrating'));
  // STOP music when story stops
  if(audioPlaying&&masterGain&&audioCtx){
    masterGain.gain.setTargetAtTime(0,audioCtx.currentTime,1);
    setTimeout(()=>{audioPlaying=false;document.getElementById('music-label').textContent='Music';document.getElementById('btn-music').classList.remove('active');},1200);}}
function pauseNar(){if(!narActive)return;
  if(narPaused){
    // RESUME narration + music
    speechSynthesis.resume();narPaused=false;
    document.getElementById('pause-label').textContent='Pause';showSt('Resumed');
    if(audioCtx&&masterGain){audioCtx.resume();masterGain.gain.setTargetAtTime(musicVol*0.4,audioCtx.currentTime,0.5);
      audioPlaying=true;document.getElementById('music-label').textContent='Music On';document.getElementById('btn-music').classList.add('active');}}
  else{
    // PAUSE narration + music
    speechSynthesis.pause();narPaused=true;
    document.getElementById('pause-label').textContent='Resume';showSt('Paused');
    if(audioPlaying&&masterGain&&audioCtx){masterGain.gain.setTargetAtTime(0,audioCtx.currentTime,0.5);
      audioPlaying=false;document.getElementById('music-label').textContent='Music';document.getElementById('btn-music').classList.remove('active');}}}
document.getElementById('btn-play').addEventListener('click',()=>{if(narActive)stopNar();else startNar();});
document.getElementById('btn-pause').addEventListener('click',pauseNar);
document.getElementById('btn-skip').addEventListener('click',()=>{if(!narActive){startNar();return;}speechSynthesis.cancel();narPaused=false;document.getElementById('pause-label').textContent='Pause';if(curSI+1<SO.length)speakScene(curSI+1);else stopNar();});
document.getElementById('speed-slider').addEventListener('input',function(){speechRate=parseFloat(this.value);document.getElementById('speed-val').textContent=speechRate.toFixed(2)+'x';});
setInterval(()=>{if(narActive&&!narPaused&&speechSynthesis.speaking){speechSynthesis.pause();speechSynthesis.resume();}},10000);
// TANPURA A# — Plucked string cycle
// =============================================
let audioCtx=null,audioPlaying=false,masterGain=null,tanpuraTimer=null;
const SA=233.08;
const STRINGS=[{freq:SA*3/2,vol:0.10},{freq:SA,vol:0.14},{freq:SA,vol:0.13},{freq:SA/2,vol:0.16}];
let sIdx=0;

function initAudio(){
  audioCtx=new(window.AudioContext||window.webkitAudioContext)();
  masterGain=audioCtx.createGain();masterGain.gain.value=0;
  const comp=audioCtx.createDynamicsCompressor();comp.threshold.value=-24;comp.knee.value=20;comp.ratio.value=2.5;
  masterGain.connect(comp);comp.connect(audioCtx.destination);
  const d1=audioCtx.createDelay();d1.delayTime.value=0.07;const d2=audioCtx.createDelay();d2.delayTime.value=0.13;
  const fb1=audioCtx.createGain();fb1.gain.value=0.12;const fb2=audioCtx.createGain();fb2.gain.value=0.08;
  const rf=audioCtx.createBiquadFilter();rf.type='lowpass';rf.frequency.value=700;
  masterGain.connect(d1);d1.connect(rf);rf.connect(fb1);fb1.connect(d1);masterGain.connect(d2);d2.connect(fb2);fb2.connect(d2);
  const rg=audioCtx.createGain();rg.gain.value=0.15;d1.connect(rg);d2.connect(rg);rg.connect(comp);
  startCycle();
}

function pluck(str){
  if(!audioCtx||!audioPlaying)return;const n=audioCtx.currentTime,f=str.freq,v=str.vol;
  const bus=audioCtx.createGain();bus.gain.value=1;bus.connect(masterGain);
  const rt=3.5;
  // Attack noise
  const al=audioCtx.sampleRate*0.015;const ab=audioCtx.createBuffer(1,al,audioCtx.sampleRate);const ad=ab.getChannelData(0);
  for(let i=0;i<al;i++)ad[i]=(Math.random()*2-1)*Math.pow(1-i/al,2);
  const as=audioCtx.createBufferSource();as.buffer=ab;const af=audioCtx.createBiquadFilter();af.type='bandpass';af.frequency.value=f*2;af.Q.value=1;
  const ag=audioCtx.createGain();ag.gain.value=v*0.3;as.connect(af);af.connect(ag);ag.connect(bus);as.start(n);as.stop(n+0.02);
  // Fundamental
  const o1=audioCtx.createOscillator();o1.type='sine';o1.frequency.value=f;
  const e1=audioCtx.createGain();e1.gain.setValueAtTime(0,n);e1.gain.linearRampToValueAtTime(v,n+0.008);e1.gain.setValueAtTime(v*0.95,n+0.05);e1.gain.exponentialRampToValueAtTime(v*0.5,n+0.8);e1.gain.exponentialRampToValueAtTime(v*0.15,n+2.2);e1.gain.exponentialRampToValueAtTime(0.001,n+rt);
  o1.connect(e1);e1.connect(bus);o1.start(n);o1.stop(n+rt+0.1);
  // Detune pair
  const o1b=audioCtx.createOscillator();o1b.type='sine';o1b.frequency.value=f*(1+0.001*(Math.random()*2-1));
  const e1b=audioCtx.createGain();e1b.gain.setValueAtTime(0,n);e1b.gain.linearRampToValueAtTime(v*0.4,n+0.01);e1b.gain.exponentialRampToValueAtTime(v*0.1,n+1.5);e1b.gain.exponentialRampToValueAtTime(0.001,n+rt);
  o1b.connect(e1b);e1b.connect(bus);o1b.start(n);o1b.stop(n+rt+0.1);
  // Harmonics
  const o2=audioCtx.createOscillator();o2.type='sine';o2.frequency.value=f*2;const e2=audioCtx.createGain();e2.gain.setValueAtTime(0,n);e2.gain.linearRampToValueAtTime(v*0.12,n+0.005);e2.gain.exponentialRampToValueAtTime(0.001,n+2.5);o2.connect(e2);e2.connect(bus);o2.start(n);o2.stop(n+2.8);
  const o3=audioCtx.createOscillator();o3.type='sine';o3.frequency.value=f*3;const e3=audioCtx.createGain();e3.gain.setValueAtTime(0,n);e3.gain.linearRampToValueAtTime(v*0.06,n+0.01);e3.gain.exponentialRampToValueAtTime(0.001,n+1.8);o3.connect(e3);e3.connect(bus);o3.start(n);o3.stop(n+2);
  // Jivari
  const jv=audioCtx.createOscillator();jv.type='sawtooth';jv.frequency.value=f;const jf=audioCtx.createBiquadFilter();jf.type='bandpass';jf.frequency.value=f*4;jf.Q.value=10;
  const je=audioCtx.createGain();je.gain.setValueAtTime(0,n);je.gain.linearRampToValueAtTime(v*0.015,n+0.02);je.gain.exponentialRampToValueAtTime(0.001,n+2.5);
  jv.connect(jf);jf.connect(je);je.connect(bus);jv.start(n);jv.stop(n+2.8);
  setTimeout(()=>{try{bus.disconnect();}catch(e){}},4000);
}

function startCycle(){sIdx=0;(function cyc(){if(!audioPlaying){tanpuraTimer=setTimeout(cyc,200);return;}
  pluck(STRINGS[sIdx%STRINGS.length]);sIdx++;tanpuraTimer=setTimeout(cyc,850+(Math.random()-0.5)*80);})();}

let musicVol=0.28;
document.getElementById('btn-music').addEventListener('click',()=>{const lb=document.getElementById('music-label');
  if(!audioPlaying){if(!audioCtx)initAudio();else{audioCtx.resume();if(!tanpuraTimer)startCycle();}
    masterGain.gain.setTargetAtTime(narActive?musicVol*0.4:musicVol,audioCtx.currentTime,1.5);lb.textContent='Music On';document.getElementById('btn-music').classList.add('active');audioPlaying=true;}
  else{masterGain.gain.setTargetAtTime(0,audioCtx.currentTime,1.5);lb.textContent='Music';document.getElementById('btn-music').classList.remove('active');audioPlaying=false;}});

document.getElementById('vol-slider').addEventListener('input',function(){const p=parseInt(this.value);document.getElementById('vol-val').textContent=p+'%';musicVol=(p/100)*0.56;
  if(audioPlaying&&masterGain)masterGain.gain.setTargetAtTime(narActive?musicVol*0.4:musicVol,audioCtx.currentTime,0.3);});
</script>
<div style="max-width:1280px;margin:3rem auto 0;padding:0 1.5rem 2rem"><div style="background:rgba(245,158,11,.08);border:2px solid rgba(245,158,11,.35);border-radius:12px;padding:1.25rem 1.5rem"><div style="display:flex;align-items:flex-start;gap:.75rem"><span style="font-size:1.4rem;flex-shrink:0">⚠️</span><div><div style="color:#f59e0b;font-weight:700;font-size:.9rem;margin-bottom:.4rem;text-transform:uppercase;letter-spacing:.05em">Important Disclaimer</div><p style="color:rgba(255,255,255,.6);font-size:.85rem;line-height:1.7;margin-bottom:.3rem"><strong style="color:rgba(255,255,255,.85)">For Educational </body>amp; Personal Learning Purposes Only.</strong> This app is a personal study tool. All content is sourced from traditional texts and publicly available references.</p><p style="color:rgba(255,255,255,.6);font-size:.85rem;line-height:1.7"><strong style="color:rgba(255,255,255,.85)">Built with AI Assistance.</strong> This tool was built with the assistance of AI (Claude by Anthropic) and may contain errors in transliteration, translation, or audio synchronization. Please verify with traditional sources and qualified teachers.</p></div></div></div></div>
</body>
</html>